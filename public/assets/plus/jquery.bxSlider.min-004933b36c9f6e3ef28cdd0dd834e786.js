/**
 * jQuery bxSlider v3.0
 * http://bxslider.com
 *
 * Copyright 2010, Steven Wanderski
 * http://stevenwanderski.com
 *
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 */
(function(a){a.fn.bxSlider=function(b){function H(){I(b.startingSlide),b.mode=="horizontal"?(e.wrap('<div class="'+b.wrapperClass+'" style="width:'+l+'px; position:relative;"></div>').wrap('<div class="bx-window" style="position:relative; overflow:hidden; width:'+l+'px;"></div>').css({width:"999999px",position:"relative",left:"-"+y+"px"}),e.children().css({width:j,"float":"left",listStyle:"none"}),h=e.parent().parent(),g.addClass("pager")):b.mode=="vertical"?(e.wrap('<div class="'+b.wrapperClass+'" style="width:'+v+'px; position:relative;"></div>').wrap('<div class="bx-window" style="width:'+v+"px; height:"+m+'px; position:relative; overflow:hidden;"></div>').css({height:"999999px",position:"relative",top:"-"+z+"px"}),e.children().css({listStyle:"none",height:w}),h=e.parent().parent(),g.addClass("pager")):b.mode=="fade"&&(e.wrap('<div class="'+b.wrapperClass+'" style="width:'+v+'px; position:relative;"></div>').wrap('<div class="bx-window" style="height:'+w+"px; width:"+v+'px; position:relative; overflow:hidden;"></div>'),e.children().css({listStyle:"none",position:"absolute",top:0,left:0,zIndex:98}),h=e.parent().parent(),g.not(":eq("+x+")").fadeTo(0,0),g.eq(x).css("zIndex",99)),b.captions&&b.captionsSelector==null&&h.append('<div class="bx-captions"></div>')}function I(){if(b.mode=="horizontal"||b.mode=="vertical"){var c=Z(g,0,b.moveSlideQty,"backward");a.each(c,function(b){e.prepend(a(this))});var d=g.length+b.moveSlideQty-1,f=g.length-b.displaySlideQty,h=d-f,i=Z(g,0,h,"forward");b.infiniteLoop&&a.each(i,function(b){e.append(a(this))})}}function J(){b.nextImage!=""?(nextContent=b.nextImage,nextType="image"):(nextContent=b.nextText,nextType="text"),b.prevImage!=""?(prevContent=b.prevImage,prevType="image"):(prevContent=b.prevText,prevType="text"),R(nextType,nextContent,prevType,prevContent)}function K(){b.auto?b.infiniteLoop?b.autoDirection=="next"?o=setInterval(function(){d.goToNextSlide(!1)},b.pause):b.autoDirection=="prev"&&(o=setInterval(function(){d.goToPreviousSlide(!1)},b.pause)):b.autoDirection=="next"?o=setInterval(function(){x+=b.moveSlideQty,x>G&&(x%=g.length),d.goToSlide(x,!1)},b.pause):b.autoDirection=="prev"&&(o=setInterval(function(){x-=b.moveSlideQty,x<0&&(negativeOffset=x%g.length,negativeOffset==0?x=0:x=g.length+negativeOffset),d.goToSlide(x,!1)},b.pause)):b.ticker&&(b.tickerSpeed*=10,a(".pager",h).each(function(b){A+=a(this).width(),B+=a(this).height()}),b.tickerDirection=="prev"&&b.mode=="horizontal"?e.css("left","-"+(A+y)+"px"):b.tickerDirection=="prev"&&b.mode=="vertical"&&e.css("top","-"+(B+z)+"px"),b.mode=="horizontal"?(C=parseInt(e.css("left")),L(C,A,b.tickerSpeed)):b.mode=="vertical"&&(D=parseInt(e.css("top")),L(D,B,b.tickerSpeed)),b.tickerHover&&O())}function L(a,c,d){b.mode=="horizontal"?b.tickerDirection=="next"?e.animate({left:"-="+c+"px"},d,"linear",function(){e.css("left",a),L(a,A,b.tickerSpeed)}):b.tickerDirection=="prev"&&e.animate({left:"+="+c+"px"},d,"linear",function(){e.css("left",a),L(a,A,b.tickerSpeed)}):b.mode=="vertical"&&(b.tickerDirection=="next"?e.animate({top:"-="+c+"px"},d,"linear",function(){e.css("top",a),L(a,B,b.tickerSpeed)}):b.tickerDirection=="prev"&&e.animate({top:"+="+c+"px"},d,"linear",function(){e.css("top",a),L(a,B,b.tickerSpeed)}))}function M(){b.startImage!=""?(startContent=b.startImage,startType="image"):(startContent=b.startText,startType="text"),b.stopImage!=""?(stopContent=b.stopImage,stopType="image"):(stopContent=b.stopText,stopType="text"),U(startType,startContent,stopType,stopContent)}function N(){h.find(".bx-window").hover(function(){t&&d.stopShow(!1)},function(){t&&d.startShow(!1)})}function O(){e.hover(function(){t&&d.stopTicker(!1)},function(){t&&d.startTicker(!1)})}function P(){g.not(":eq("+x+")").fadeTo(b.speed,0).css("zIndex",98),g.eq(x).css("zIndex",99).fadeTo(b.speed,1,function(){E=!1,jQuery.browser.msie&&g.eq(x).get(0).style.removeAttribute("filter"),b.onAfterSlide(x,g.length,g.eq(x))})}function Q(c){b.pagerType=="full"&&b.pager?(a("a",n).removeClass(b.pagerActiveClass),a("a",n).eq(c).addClass(b.pagerActiveClass)):b.pagerType=="short"&&b.pager&&a(".bx-pager-current",n).html(x+1)}function R(c,e,f,g){var i=a('<a href="" class="bx-next"></a>'),j=a('<a href="" class="bx-prev"></a>');c=="text"?i.html(e):i.html('<img src="'+e+'" />'),f=="text"?j.html(g):j.html('<img src="'+g+'" />'),b.prevSelector?a(b.prevSelector).append(j):h.append(j),b.nextSelector?a(b.nextSelector).append(i):h.append(i),i.click(function(){return d.goToNextSlide(),!1}),j.click(function(){return d.goToPreviousSlide(),!1})}function S(c){var e=g.length;b.moveSlideQty>1&&(g.length%b.moveSlideQty!=0?e=Math.ceil(g.length/b.moveSlideQty):e=g.length/b.moveSlideQty);var f="";if(b.buildPager)for(var i=0;i<e;i++)f+=b.buildPager(i,g.eq(i*b.moveSlideQty));else if(c=="full")for(var i=1;i<=e;i++)f+='<a href="" class="pager-link pager-'+i+'">'+i+"</a>";else c=="short"&&(f='<span class="bx-pager-current">'+(b.startingSlide+1)+"</span> "+b.pagerShortSeparator+' <span class="bx-pager-total">'+g.length+"<span>");if(b.pagerSelector)a(b.pagerSelector).append(f),n=a(b.pagerSelector);else{var j=a('<div class="bx-pager"></div>');j.append(f),b.pagerLocation=="top"?h.prepend(j):b.pagerLocation=="bottom"&&h.append(j),n=a(".bx-pager",h)}n.children().click(function(){if(b.pagerType=="full"){var a=n.children().index(this);b.moveSlideQty>1&&(a*=b.moveSlideQty),d.goToSlide(a)}return!1})}function T(){var c=a("img",g.eq(x)).attr("title");c!=""?b.captionsSelector?a(b.captionsSelector).html(c):a(".bx-captions",h).html(c):b.captionsSelector?a(b.captionsSelector).html(" "):a(".bx-captions",h).html(" ")}function U(c,e,f,g){p=a('<a href="" class="bx-start"></a>'),c=="text"?r=e:r='<img src="'+e+'" />',f=="text"?s=g:s='<img src="'+g+'" />',b.autoControlsSelector?a(b.autoControlsSelector).append(p):(h.append('<div class="bx-auto"></div>'),a(".bx-auto",h).html(p)),p.click(function(){return b.ticker?a(this).hasClass("stop")?d.stopTicker():a(this).hasClass("start")&&d.startTicker():a(this).hasClass("stop")?d.stopShow(!0):a(this).hasClass("start")&&d.startShow(!0),!1})}function V(){!b.infiniteLoop&&b.hideControlOnEnd&&(x==F?a(".bx-prev",h).hide():a(".bx-prev",h).show(),x==G?a(".bx-next",h).hide():a(".bx-next",h).show())}function W(b,c){if(c=="left")var d=a(".pager",h).eq(b).position().left;else if(c=="top")var d=a(".pager",h).eq(b).position().top;return d}function X(){var a=i.outerWidth()*b.displaySlideQty;return a}function Y(){var a=i.outerHeight()*b.displaySlideQty;return a}function Z(b,c,d,e){var f=[],g=d,h=!1;e=="backward"&&(b=a.makeArray(b),b.reverse());while(g>0)a.each(b,function(b,d){if(!(g>0))return!1;h?(f.push(a(this).clone()),g--):b==c&&(h=!0,f.push(a(this).clone()),g--)});return f}var c={mode:"horizontal",infiniteLoop:!0,hideControlOnEnd:!1,controls:!0,speed:500,easing:"swing",pager:!1,pagerSelector:null,pagerType:"full",pagerLocation:"bottom",pagerShortSeparator:"/",pagerActiveClass:"pager-active",nextText:"next",nextImage:"",nextSelector:null,prevText:"prev",prevImage:"",prevSelector:null,captions:!1,captionsSelector:null,auto:!1,autoDirection:"next",autoControls:!1,autoControlsSelector:null,autoStart:!0,autoHover:!1,autoDelay:0,pause:3e3,startText:"start",startImage:"",stopText:"stop",stopImage:"",ticker:!1,tickerSpeed:5e3,tickerDirection:"next",tickerHover:!1,wrapperClass:"bx-wrapper",startingSlide:0,displaySlideQty:1,moveSlideQty:1,randomStart:!1,onBeforeSlide:function(){},onAfterSlide:function(){},onLastSlide:function(){},onFirstSlide:function(){},onNextSlide:function(){},onPrevSlide:function(){},buildPager:null},b=a.extend(c,b),d=this,e="",f="",g="",h="",i="",j="",k="",l="",m="",n="",o="",p="",q="",r="",s="",t=!0,u=!1,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=!1,F=0,G=g.length-1;return this.goToSlide=function(a,c){if(!E){E=!0,x=a,b.onBeforeSlide(x,g.length,g.eq(x));if(typeof c=="undefined")var c=!0;c&&b.auto&&d.stopShow(!0),slide=a,slide==F&&b.onFirstSlide(x,g.length,g.eq(x)),slide==G&&b.onLastSlide(x,g.length,g.eq(x)),b.mode=="horizontal"?e.animate({left:"-"+W(slide,"left")+"px"},b.speed,b.easing,function(){E=!1,b.onAfterSlide(x,g.length,g.eq(x))}):b.mode=="vertical"?e.animate({top:"-"+W(slide,"top")+"px"},b.speed,b.easing,function(){E=!1,b.onAfterSlide(x,g.length,g.eq(x))}):b.mode=="fade"&&P(),V(),b.moveSlideQty>1&&(a=Math.floor(a/b.moveSlideQty)),Q(a),T()}},this.goToNextSlide=function(a){if(typeof a=="undefined")var a=!0;a&&b.auto&&d.stopShow(!0);if(!b.infiniteLoop){if(!E){var c=!1;x+=b.moveSlideQty,x<=G?(V(),b.onNextSlide(x,g.length,g.eq(x)),d.goToSlide(x)):x-=b.moveSlideQty}}else if(!E){E=!0;var c=!1;x+=b.moveSlideQty,x>G&&(x%=g.length,c=!0),b.onNextSlide(x,g.length,g.eq(x)),b.onBeforeSlide(x,g.length,g.eq(x));if(b.mode=="horizontal"){var f=b.moveSlideQty*k;e.animate({left:"-="+f+"px"},b.speed,b.easing,function(){E=!1,c&&e.css("left","-"+W(x,"left")+"px"),b.onAfterSlide(x,g.length,g.eq(x))})}else if(b.mode=="vertical"){var h=b.moveSlideQty*w;e.animate({top:"-="+h+"px"},b.speed,b.easing,function(){E=!1,c&&e.css("top","-"+W(x,"top")+"px"),b.onAfterSlide(x,g.length,g.eq(x))})}else b.mode=="fade"&&P();b.moveSlideQty>1?Q(Math.ceil(x/b.moveSlideQty)):Q(x),T()}},this.goToPreviousSlide=function(c){if(typeof c=="undefined")var c=!0;c&&b.auto&&d.stopShow(!0);if(!b.infiniteLoop){if(!E){var f=!1;x-=b.moveSlideQty,x<0&&(x=0,b.hideControlOnEnd&&a(".bx-prev",h).hide()),V(),b.onPrevSlide(x,g.length,g.eq(x)),d.goToSlide(x)}}else if(!E){E=!0;var f=!1;x-=b.moveSlideQty,x<0&&(negativeOffset=x%g.length,negativeOffset==0?x=0:x=g.length+negativeOffset,f=!0),b.onPrevSlide(x,g.length,g.eq(x)),b.onBeforeSlide(x,g.length,g.eq(x));if(b.mode=="horizontal"){var i=b.moveSlideQty*k;e.animate({left:"+="+i+"px"},b.speed,b.easing,function(){E=!1,f&&e.css("left","-"+W(x,"left")+"px"),b.onAfterSlide(x,g.length,g.eq(x))})}else if(b.mode=="vertical"){var j=b.moveSlideQty*w;e.animate({top:"+="+j+"px"},b.speed,b.easing,function(){E=!1,f&&e.css("top","-"+W(x,"top")+"px"),b.onAfterSlide(x,g.length,g.eq(x))})}else b.mode=="fade"&&P();b.moveSlideQty>1?Q(Math.ceil(x/b.moveSlideQty)):Q(x),T()}},this.goToFirstSlide=function(a){if(typeof a=="undefined")var a=!0;d.goToSlide(F,a)},this.goToLastSlide=function(){if(typeof a=="undefined")var a=!0;d.goToSlide(G,a)},this.getCurrentSlide=function(){return x},this.getSlideCount=function(){return g.length},this.stopShow=function(a){clearInterval(o);if(typeof a=="undefined")var a=!0;a&&b.autoControls&&(p.html(r).removeClass("stop").addClass("start"),t=!1)},this.startShow=function(a){if(typeof a=="undefined")var a=!0;K(),a&&b.autoControls&&(p.html(s).removeClass("start").addClass("stop"),t=!0)},this.stopTicker=function(a){e.stop();if(typeof a=="undefined")var a=!0;a&&b.ticker&&(p.html(r).removeClass("stop").addClass("start"),t=!1)},this.startTicker=function(a){if(b.mode=="horizontal"){if(b.tickerDirection=="next")var c=parseInt(e.css("left")),d=A+c+g.eq(0).width();else if(b.tickerDirection=="prev")var c=-parseInt(e.css("left")),d=c-g.eq(0).width();var f=d*b.tickerSpeed/A;L(C,d,f)}else if(b.mode=="vertical"){if(b.tickerDirection=="next")var h=parseInt(e.css("top")),d=B+h+g.eq(0).height();else if(b.tickerDirection=="prev")var h=-parseInt(e.css("top")),d=h-g.eq(0).height();var f=d*b.tickerSpeed/B;L(D,d,f);if(typeof a=="undefined")var a=!0;a&&b.ticker&&(p.html(s).removeClass("start").addClass("stop"),t=!0)}},this.initShow=function(){e=a(this),f=e.clone(),g=e.children(),h="",i=e.children(":first"),j=i.width(),v=0,k=i.outerWidth(),w=0,l=X(),m=Y(),E=!1,n="",x=0,y=0,z=0,o="",p="",q="",r="",s="",t=!0,u=!1,A=0,B=0,C=0,D=0,F=0,G=g.length-1,g.each(function(b){a(this).outerHeight()>w&&(w=a(this).outerHeight()),a(this).outerWidth()>v&&(v=a(this).outerWidth())});if(b.randomStart){var c=Math.floor(Math.random()*g.length);x=c,y=k*(b.moveSlideQty+c),z=w*(b.moveSlideQty+c)}else x=b.startingSlide,y=k*(b.moveSlideQty+b.startingSlide),z=w*(b.moveSlideQty+b.startingSlide);H(),b.pager&&!b.ticker&&(b.pagerType=="full"?S("full"):b.pagerType=="short"&&S("short")),b.controls&&!b.ticker&&J();if(b.auto||b.ticker)b.autoControls&&M(),b.autoStart?setTimeout(function(){d.startShow(!0)},b.autoDelay):d.stopShow(!0),b.autoHover&&!b.ticker&&N();b.moveSlideQty>1?Q(Math.ceil(x/b.moveSlideQty)):Q(x),V(),b.captions&&T(),b.onAfterSlide(x,g.length,g.eq(x))},this.destroyShow=function(){clearInterval(o),a(".bx-next, .bx-prev, .bx-pager, .bx-auto",h).remove(),e.unwrap().unwrap().removeAttr("style"),e.children().removeAttr("style").not(".pager").remove(),g.removeClass("pager")},this.reloadShow=function(){d.destroyShow(),d.initShow()},this.each(function(){d.initShow()}),this},jQuery.fx.prototype.cur=function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a=parseFloat(jQuery.css(this.elem,this.prop));return a}return this.elem[this.prop]}})(jQuery);