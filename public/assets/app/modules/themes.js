Themes=function(){function b(a){if(a.hasClass("show")){var b=a.find("#not_ready");if(b.length>0){var c=document.location.href;$.poll(5e3,function(a){$.getJSON(c+"/ready",{format:"js"},function(d,e){e=="success"&&d.ready&&(d.message?(b.text(d.message),Effects.fade(b),c==document.location.href&&(document.location.href=document.location.href)):d.last_error?(b.text(d.last_error),b.addClass("error"),Effects.fade(b)):a())})})}}else a.hasClass("new")||a.hasClass("edit")||a.hasClass("create")||a.hasClass("update")?$(".show_dialog").click(function(b){var c=$(this),d=$("."+c.data("target")+"-code-editor");return d.dialog({width:a.width()-50}),c.data("actived")!="1"&&(d.find("textarea.code").each(function(a,b){CodeMirror.fromTextArea(b,{lineNumbers:!0,theme:"default",mode:$(b).data("lang")})}),c.data({actived:"1"})),!1}):a.hasClass("index")&&$(".import_theme").click(function(){$(".import_dialog").dialog()})}var a=this;return{initialize:b}}();