(function(a){a.fn.autoVideo=function(){function b(a){var b=a.attr("data-videoid"),c=a.attr("data-video-provider");switch(c){case"metacafe":a.html('<embed src="http://www.metacafe.com/fplayer/'+b+'.swf" width="400" height="345" wmode="transparent" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" allowFullScreen="true" allowScriptAccess="always" name="Metacafe_3930172"> </embed><br><font size = 1><a href="http://www.metacafe.com/watch/'+b+'/">Link to video</a> - <a href="http://www.metacafe.com/">The most popular videos are a click away</a></font>');break;case"youtube":a.html('<object width="425" height="344"><param name="movie" value="http://www.youtube.com/v/'+b+'&hl=en_US&fs=1"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/'+b+'&hl=en_US&fs=1&" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="344"></embed></object>');break;case"dailymotion":b=b.split("_")[0],a.html('<object width="480" height="365"><param name="movie" value="http://www.dailymotion.com/swf/x7rduv&related=0"></param><param name="allowFullScreen" value="true"></param><param name="allowScriptAccess" value="always"></param><embed src="http://www.dailymotion.com/swf/x7rduv&related=0" type="application/x-shockwave-flash" width="480" height="365" allowfullscreen="true" allowscriptaccess="always"></embed></object>');break;case"vimeo":a.html(a.attr("data-html"));break;case"bliptv":a.html(a.attr("data-html"));break;case"flv":a.html('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="640" height="375" id="FlvPlayer" align="middle"><param name="allowScriptAccess" value="sameDomain" /><param name="allowFullScreen" value="true" /><param name="movie" value="http://flvplayer.com/free-flv-player/FlvPlayer.swf" /><param name="quality" value="high" /><param name="bgcolor" value="FFFFFF" /><param name="FlashVars" value="flvpFolderLocation=http://flvplayer.com/free-flv-player/flvplayer/&flvpVideoSource='+a.attr("data-videoid")+'&flvpWidth=640&flvpHeight=375&flvpInitVolume=50&flvpTurnOnCorners=true&flvpBgColor=FFFFFF"><embed src="http://flvplayer.com/free-flv-player/FlvPlayer.swf" flashvars="flvpFolderLocation=http://flvplayer.com/free-flv-player/flvplayer/&flvpVideoSource='+a.attr("data-videoid")+'&flvpWidth=640&flvpHeight=375&flvpInitVolume=50&flvpTurnOnCorners=true&flvpBgColor=FFFFFF" quality="high" bgcolor="FFFFFF" width="640" height="375" name="FlvPlayer" align="middle" allowScriptAccess="sameDomain" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer" /></object>')}}this.each(function(){var c=a(this).parents("code").length;if(!c){var d=new String(a(this).attr("href")),e=!1,f='<img src="/images/play_button.png" class="play_button">';if(e=d.match(/http:\/\/www\.dailymotion\.com.*\/video\/(.+)_*/)){var g=a('<div class="thumb"><img src="http://www.dailymotion.com/thumbnail/160x120/video/'+e[1]+'" class="video_thumbnail"></div>').attr({"data-video-provider":"dailymotion","data-videoid":e[1]}).append(f);a(this).after(g),g.one("click",function(){b(g)}),a(this).remove()}else if(e=d.match(/http:\/\/(www.)?youtube\.com\/watch\?v=([A-Za-z0-9._%-]*)(\&\S+)?/)){var g=a('<div class="thumb"><img src="http://i.ytimg.com/vi/'+e[2]+'/1.jpg" class="video_thumbnail"></div>').attr({"data-video-provider":"youtube","data-videoid":e[2]}).append(f);a(this).after(g),g.one("click",function(){b(g)}),a(this).remove()}else if(e=d.match(/^(https?:\/\/[^\/]*metacafe.com\/)watch\/([\w-]+)\/([^\/]*)/i)){var g=a('<div class="thumb"><img src="http://www.metacafe.com/thumb/'+e[2]+'.jpg" class="video_thumbnail"></div>').attr({"data-video-provider":"metacafe","data-videoid":e[2]+"/"+e[3]}).append(f);a(this).after(g),g.one("click",function(){b(g)}),a(this).remove()}else if(e=d.match(/http:\/\/(www.)?vimeo\.com\/([A-Za-z0-9._%-]*)((\?|#)\S+)?/)){var h=this;a.getJSON("http://vimeo.com/api/oembed.json?url=http%3A//vimeo.com/"+e[2]+"&callback=?",function(c){var d=a('<div class="thumb"><img src="'+c.thumbnail_url+'" class="video_thumbnail"></div>').attr({"data-video-provider":"vimeo","data-videoid":e[2],"data-html":c.html}).append(f);a(h).after(d),d.one("click",function(){b(d)}),a(h).remove()})}else if(e=d.match(/^(https?:\/\/[^\/]*blip.tv\/)file\/([\w-]+).*/i)){var h=this;a.getJSON("http://blip.tv/file?id="+e[2]+"&skin=json&version=2&callback=?",function(c){var d=a('<div class="thumb"><img src="'+c[0].thumbnailUrl+'" class="video_thumbnail"></div>').attr({"data-video-provider":"bliptv","data-videoid":e[2],"data-html":c[0].embedCode}).append(f);a(h).after(d),d.one("click",function(){b(d)}),a(h).remove()})}else if(e=d.match(/\w+(\w+\.flv)/)){var h=this,g=a('<div class="thumb"><img src="/images/video.png" class="video_thumbnail"></div>').attr({"data-video-provider":"flv","data-videoid":d}).append(f);a(h).after(g),g.one("click",function(){b(g)}),a(h).remove()}}})}})(jQuery);