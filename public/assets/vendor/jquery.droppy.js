/*
 * Droppy 0.1.2
 * (c) 2008 Jason Frame (jason@onehackoranother.com)
 */
(function(a){a.fn.droppy=function(b){b=a.extend({speed:250,className:"droppy",trigger:"hover"},b||{}),this.each(function(){function e(b){if(b.nodeName.toLowerCase()=="li"){var c=a("> ul",b);return c.length?c[0]:null}return b}function f(b){return b.nodeName.toLowerCase()=="ul"?a(b).parents("li")[0]:b}function g(){var c=e(this);if(!c)return;a.data(c,"cancelHide",!1),setTimeout(function(){a.data(c,"cancelHide")||a(c).slideUp(b.speed)},500)}function h(){var c=e(this);if(!c)return;a.data(c,"cancelHide",!0),a(c).css({zIndex:d++}).slideDown(b.speed);if(this.nodeName.toLowerCase()=="ul"){var g=f(this);a(g).addClass("hover"),a("> a",g).addClass("hover")}return!1}var c=this,d=1e3;a(c).addClass(b.className),a(c).find("li:has(> ul) > a").addClass("has-subnav"),b.trigger=="click"?(a("> li",this).click(function(a){(a.target==this||a.target.parentNode==this)&&h.call(this)}),a("> li ul, > li li",this).hover(h,function(){}),a("ul, li",this).hover(function(){},g)):typeof a.fn.hoverIntent=="function"?a("ul, li",this).hoverIntent(a.extend({sensitivity:2,interval:50,timeout:100},b.hoverIntent||{},{over:h,out:g})):a("ul, li",this).hover(h,g);var i=this;a("li",this).hover(function(){a(this).addClass("hover"),a("> a",this).addClass("hover")},function(){a(this).removeClass("hover"),a("> a",this).removeClass("hover")})})}})(jQuery);