/*

 FullCalendar v1.5.3
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Mon Feb 6 22:40:40 2012 -0800

*/
(function(a,b){function c(b){a.extend(!0,rb,b)}function d(c,d,j){function k(a){bb?(y(),x(),G(),t(a)):l()}function l(){cb=d.theme?"ui":"fc",c.addClass("fc"),d.isRTL&&c.addClass("fc-rtl"),d.theme&&c.addClass("ui-widget"),bb=a("<div class='fc-content' style='position:relative'/>").prependTo(c),_=new e(X,d),(ab=_.render())&&c.prepend(ab),s(d.defaultView),a(window).resize(A),r()||n()}function n(){setTimeout(function(){!db.start&&r()&&t()},0)}function o(){a(window).unbind("resize",A),_.destroy(),bb.remove(),c.removeClass("fc fc-rtl ui-widget")}function p(){return $.offsetWidth!==0}function r(){return a("body")[0].offsetWidth!==0}function s(b){if(!db||b!=db.name){jb++,I();var c=db,d;c?((c.beforeHide||O)(),N(bb,bb.height()),c.element.hide()):N(bb,1),bb.css("overflow","hidden"),(db=eb[b])?db.element.show():db=eb[b]=new ub[b](d=hb=a("<div class='fc-view fc-view-"+b+"' style='position:absolute'/>").appendTo(bb),X),c&&_.deactivateButton(c.name),_.activateButton(b),t(),bb.css("overflow",""),c&&N(bb,1),d||(db.afterShow||O)(),jb--}}function t(a){if(p()){jb++,I(),gb===b&&y();var d=!1;!db.start||a||kb<db.start||kb>=db.end?(db.render(kb,a||0),z(!0),d=!0):db.sizeDirty?(db.clearEvents(),z(),d=!0):db.eventsDirty&&(db.clearEvents(),d=!0),db.sizeDirty=!1,db.eventsDirty=!1,B(d),fb=c.outerWidth(),_.updateTitle(db.title),a=new Date,a>=db.start&&a<db.end?_.disableButton("today"):_.enableButton("today"),jb--,db.trigger("viewDisplay",$)}}function w(){x(),p()&&(y(),z(),I(),db.clearEvents(),db.renderEvents(lb),db.sizeDirty=!1)}function x(){a.each(eb,function(a,b){b.sizeDirty=!0})}function y(){gb=d.contentHeight?d.contentHeight:d.height?d.height-(ab?ab.height():0)-J(bb):Math.round(bb.width()/Math.max(d.aspectRatio,.5))}function z(a){jb++,db.setHeight(gb,a),hb&&(hb.css("position","relative"),hb=null),db.setWidth(bb.width(),a),jb--}function A(){if(!jb)if(db.start){var a=++ib;setTimeout(function(){a==ib&&!jb&&p()&&fb!=(fb=c.outerWidth())&&(jb++,w(),db.trigger("windowResize",$),jb--)},200)}else n()}function B(a){!d.lazyFetching||Y(db.visStart,db.visEnd)?C():a&&F()}function C(){Z(db.visStart,db.visEnd)}function D(a){lb=a,F()}function E(a){F(a)}function F(a){G(),p()&&(db.clearEvents(),db.renderEvents(lb,a),db.eventsDirty=!1)}function G(){a.each(eb,function(a,b){b.eventsDirty=!0})}function H(a,c,d){db.select(a,c,d===b?!0:d)}function I(){db&&db.unselect()}function K(){t(-1)}function L(){t(1)}function M(){g(kb,-1),t()}function P(){g(kb,1),t()}function Q(){kb=new Date,t()}function R(a,b,c){a instanceof Date?kb=m(a):q(kb,a,b,c),t()}function S(a,c,d){a!==b&&g(kb,a),c!==b&&h(kb,c),d!==b&&i(kb,d),t()}function T(){return m(kb)}function U(){return db}function V(a,c){if(c===b)return d[a];if(a=="height"||a=="contentHeight"||a=="aspectRatio")d[a]=c,w()}function W(a,b){if(d[a])return d[a].apply(b||$,Array.prototype.slice.call(arguments,2))}var X=this;X.options=d,X.render=k,X.destroy=o,X.refetchEvents=C,X.reportEvents=D,X.reportEventChange=E,X.rerenderEvents=F,X.changeView=s,X.select=H,X.unselect=I,X.prev=K,X.next=L,X.prevYear=M,X.nextYear=P,X.today=Q,X.gotoDate=R,X.incrementDate=S,X.formatDate=function(a,b){return u(a,b,d)},X.formatDates=function(a,b,c){return v(a,b,c,d)},X.getDate=T,X.getView=U,X.option=V,X.trigger=W,f.call(X,d,j);var Y=X.isFetchNeeded,Z=X.fetchEvents,$=c[0],_,ab,bb,cb,db,eb={},fb,gb,hb,ib=0,jb=0,kb=new Date,lb=[],mb;q(kb,d.year,d.month,d.date),d.droppable&&a(document).bind("dragstart",function(b,c){var e=b.target,f=a(e);if(!f.parents(".fc").length){var g=d.dropAccept;if(a.isFunction(g)?g.call(e,f):f.is(g))mb=e,db.dragStart(mb,b,c)}}).bind("dragstop",function(a,b){mb&&(db.dragStop(mb,a,b),mb=null)})}function e(b,c){function d(){n=c.theme?"ui":"fc";if(c.header)return m=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(f("left")).append(f("center")).append(f("right")))}function e(){m.remove()}function f(d){var e=a("<td class='fc-header-"+d+"'/>");return(d=c.header[d])&&a.each(d.split(" "),function(d){d>0&&e.append("<span class='fc-header-space'/>");var f;a.each(this.split(","),function(d,g){if(g=="title")e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),f&&f.addClass(n+"-corner-right"),f=null;else{var h;b[g]?h=b[g]:ub[g]&&(h=function(){j.removeClass(n+"-state-hover"),b.changeView(g)});if(h){d=c.theme?S(c.buttonIcons,g):null;var i=S(c.buttonText,g),j=a("<span class='fc-button fc-button-"+g+" "+n+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(d?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+d+"'/></span>":i)+"</span><span class='fc-button-effect'><span></span></span></span></span>");j&&(j.click(function(){j.hasClass(n+"-state-disabled")||h()}).mousedown(function(){j.not("."+n+"-state-active").not("."+n+"-state-disabled").addClass(n+"-state-down")}).mouseup(function(){j.removeClass(n+"-state-down")}).hover(function(){j.not("."+n+"-state-active").not("."+n+"-state-disabled").addClass(n+"-state-hover")},function(){j.removeClass(n+"-state-hover").removeClass(n+"-state-down")}).appendTo(e),f||j.addClass(n+"-corner-left"),f=j)}}}),f&&f.addClass(n+"-corner-right")}),e}function g(a){m.find("h2").html(a)}function h(a){m.find("span.fc-button-"+a).addClass(n+"-state-active")}function i(a){m.find("span.fc-button-"+a).removeClass(n+"-state-active")}function j(a){m.find("span.fc-button-"+a).addClass(n+"-state-disabled")}function k(a){m.find("span.fc-button-"+a).removeClass(n+"-state-disabled")}var l=this;l.render=d,l.destroy=e,l.updateTitle=g,l.activateButton=h,l.deactivateButton=i,l.disableButton=j,l.enableButton=k;var m=a([]),n}function f(c,d){function e(a,b){return!D||a<D||b>E}function f(a,b){D=a,E=b,I=[],a=++F,G=b=C.length;for(var c=0;c<b;c++)g(C[c],a)}function g(a,b){h(a,function(c){if(b==F){if(c){for(var d=0;d<c.length;d++)c[d].source=a,t(c[d]);I=I.concat(c)}G--,G||A(I)}})}function h(b,d){var e,f=tb.sourceFetchers,g;for(e=0;e<f.length;e++){g=f[e](b,D,E,d);if(g===!0)return;if(typeof g=="object"){h(g,d);return}}if(e=b.events)a.isFunction(e)?(q(),e(m(D),m(E),function(a){d(a),s()})):a.isArray(e)?d(e):d();else if(b.url){var i=b.success,j=b.error,k=b.complete;e=a.extend({},b.data||{}),f=$(b.startParam,c.startParam),g=$(b.endParam,c.endParam),f&&(e[f]=Math.round(+D/1e3)),g&&(e[g]=Math.round(+E/1e3)),q(),a.ajax(a.extend({},vb,b,{data:e,success:function(b){b=b||[];var c=Z(i,this,arguments);a.isArray(c)&&(b=c),d(b)},error:function(){Z(j,this,arguments),d()},complete:function(){Z(k,this,arguments),s()}}))}else d()}function i(a){if(a=j(a))G++,g(a,F)}function j(b){a.isFunction(b)||a.isArray(b)?b={events:b}:typeof b=="string"&&(b={url:b});if(typeof b=="object")return u(b),C.push(b),b}function k(b){C=a.grep(C,function(a){return!v(a,b)}),I=a.grep(I,function(a){return!v(a.source,b)}),A(I)}function l(a){var b,c=I.length,d,e=z().defaultEventEnd,f=a.start-a._start,g=a.end?a.end-(a._end||e(a)):0;for(b=0;b<c;b++)d=I[b],d._id==a._id&&d!=a&&(d.start=new Date(+d.start+f),d.end=a.end?d.end?new Date(+d.end+g):new Date(+e(d)+g):null,d.title=a.title,d.url=a.url,d.allDay=a.allDay,d.className=a.className,d.editable=a.editable,d.color=a.color,d.backgroudColor=a.backgroudColor,d.borderColor=a.borderColor,d.textColor=a.textColor,t(d));t(a),A(I)}function n(a,b){t(a),a.source||(b&&(B.events.push(a),a.source=B),I.push(a)),A(I)}function o(b){if(b){if(!a.isFunction(b)){var c=b+"";b=function(a){return a._id==c}}I=a.grep(I,b,!0);for(d=0;d<C.length;d++)a.isArray(C[d].events)&&(C[d].events=a.grep(C[d].events,b,!0))}else{I=[];for(var d=0;d<C.length;d++)a.isArray(C[d].events)&&(C[d].events=[])}A(I)}function p(b){return a.isFunction(b)?a.grep(I,b):b?(b+="",a.grep(I,function(a){return a._id==b})):I}function q(){H++||y("loading",null,!0)}function s(){--H||y("loading",null,!1)}function t(a){var d=a.source||{},e=$(d.ignoreTimezone,c.ignoreTimezone);a._id=a._id||(a.id===b?"_fc"+wb++:a.id+""),a.date&&(a.start||(a.start=a.date),delete a.date),a._start=m(a.start=r(a.start,e)),a.end=r(a.end,e),a.end&&a.end<=a.start&&(a.end=null),a._end=a.end?m(a.end):null,a.allDay===b&&(a.allDay=$(d.allDayDefault,c.allDayDefault)),a.className?typeof a.className=="string"&&(a.className=a.className.split(/\s+/)):a.className=[]}function u(a){a.className?typeof a.className=="string"&&(a.className=a.className.split(/\s+/)):a.className=[];for(var b=tb.sourceNormalizers,c=0;c<b.length;c++)b[c](a)}function v(a,b){return a&&b&&w(a)==w(b)}function w(a){return(typeof a=="object"?a.events||a.url:"")||a}var x=this;x.isFetchNeeded=e,x.fetchEvents=f,x.addEventSource=i,x.removeEventSource=k,x.updateEvent=l,x.renderEvent=n,x.removeEvents=o,x.clientEvents=p,x.normalizeEvent=t;var y=x.trigger,z=x.getView,A=x.reportEvents,B={events:[]},C=[B],D,E,F=0,G=0,H=0,I=[];for(x=0;x<d.length;x++)j(d[x])}function g(a,b,c){return a.setFullYear(a.getFullYear()+b),c||l(a),a}function h(a,b,c){if(+a){b=a.getMonth()+b;var d=m(a);d.setDate(1),d.setMonth(b),a.setMonth(b);for(c||l(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function i(a,b,c){if(+a){b=a.getDate()+b;var d=m(a);d.setHours(9),d.setDate(b),a.setDate(b),c||l(a),j(a,d)}return a}function j(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*zb)}function k(a,b){return a.setMinutes(a.getMinutes()+b),a}function l(a){return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a}function m(a,b){return b?l(new Date(+a)):new Date(+a)}function n(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function o(a,b,c){for(b=b||1;!a.getDay()||c&&a.getDay()==1||!c&&a.getDay()==6;)i(a,b);return a}function p(a,b){return Math.round((m(a,!0)-m(b,!0))/yb)}function q(a,c,d,e){c!==b&&c!=a.getFullYear()&&(a.setDate(1),a.setMonth(0),a.setFullYear(c)),d!==b&&d!=a.getMonth()&&(a.setDate(1),a.setMonth(d)),e!==b&&a.setDate(e)}function r(a,c){return typeof a=="object"?a:typeof a=="number"?new Date(a*1e3):typeof a=="string"?a.match(/^\d+(\.\d+)?$/)?new Date(parseFloat(a)*1e3):(c===b&&(c=!0),s(a,c)||(a?new Date(a):null)):null}function s(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var c=new Date(a[1],0,1);return b||!a[13]?(b=new Date(a[1],0,1,9,0),a[3]&&(c.setMonth(a[3]-1),b.setMonth(a[3]-1)),a[5]&&(c.setDate(a[5]),b.setDate(a[5])),j(c,b),a[7]&&c.setHours(a[7]),a[8]&&c.setMinutes(a[8]),a[10]&&c.setSeconds(a[10]),a[12]&&c.setMilliseconds(Number("0."+a[12])*1e3),j(c,b)):(c.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1),c.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1e3:0),a[14]&&(b=Number(a[16])*60+(a[18]?Number(a[18]):0),b*=a[15]=="-"?1:-1,c=new Date(+c+b*60*1e3))),c}function t(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);return a[3]&&(b%=12,a[3].toLowerCase().charAt(0)=="p"&&(b+=12)),b*60+(a[2]?parseInt(a[2],10):0)}}function u(a,b,c){return v(a,null,b,c)}function v(a,b,c,d){d=d||rb;var e=a,f=b,g,h=c.length,i,j,k,l="";for(g=0;g<h;g++){i=c.charAt(g);if(i=="'"){for(j=g+1;j<h;j++)if(c.charAt(j)=="'"){e&&(l+=j==g+1?"'":c.substring(g+1,j),g=j);break}}else if(i=="("){for(j=g+1;j<h;j++)if(c.charAt(j)==")"){g=u(e,c.substring(g+1,j),d),parseInt(g.replace(/\D/,""),10)&&(l+=g),g=j;break}}else if(i=="["){for(j=g+1;j<h;j++)if(c.charAt(j)=="]"){i=c.substring(g+1,j),g=u(e,i,d),g!=u(f,i,d)&&(l+=g),g=j;break}}else if(i=="{")e=b,f=a;else if(i=="}")e=a,f=b;else{for(j=h;j>g;j--)if(k=Bb[c.substring(g,j)]){e&&(l+=k(e,d)),g=j-1;break}j==g&&e&&(l+=i)}}return l}function w(a){return a.end?x(a.end,a.allDay):i(m(a.start),1)}function x(a,b){return a=m(a),b||a.getHours()||a.getMinutes()?i(a,1):l(a)}function y(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function z(a,b){return a.end>b.start&&a.start<b.end}function A(a,b,c,d){var e=[],f,g=a.length,h,i,j,k,l;for(f=0;f<g;f++)h=a[f],i=h.start,j=b[f],j>c&&i<d&&(i<c?(i=m(c),k=!1):(i=i,k=!0),j>d?(j=m(d),l=!1):(j=j,l=!0),e.push({event:h,start:i,end:j,isStart:k,isEnd:l,msLength:j-i}));return e.sort(y)}function B(a){var b=[],c,d=a.length,e,f,g,h;for(c=0;c<d;c++){e=a[c];for(f=0;;){g=!1;if(b[f])for(h=0;h<b[f].length;h++)if(z(b[f][h],e)){g=!0;break}if(!g)break;f++}b[f]?b[f].push(e):b[f]=[e]}return b}function C(c,d,e){c.unbind("mouseover").mouseover(function(c){for(var f=c.target,g;f!=this;)g=f,f=f.parentNode;(f=g._fci)!==b&&(g._fci=b,g=d[f],e(g.event,g.element,g),a(c.target).trigger(c)),c.stopPropagation()})}function D(b,c,d){for(var e=0,f;e<b.length;e++)f=a(b[e]),f.width(Math.max(0,c-F(f,d)))}function E(b,c,d){for(var e=0,f;e<b.length;e++)f=a(b[e]),f.height(Math.max(0,c-J(f,d)))}function F(a,b){return G(a)+I(a)+(b?H(a):0)}function G(b){return(parseFloat(a.curCSS(b[0],"paddingLeft",!0))||0)+(parseFloat(a.curCSS(b[0],"paddingRight",!0))||0)}function H(b){return(parseFloat(a.curCSS(b[0],"marginLeft",!0))||0)+(parseFloat(a.curCSS(b[0],"marginRight",!0))||0)}function I(b){return(parseFloat(a.curCSS(b[0],"borderLeftWidth",!0))||0)+(parseFloat(a.curCSS(b[0],"borderRightWidth",!0))||0)}function J(a,b){return K(a)+M(a)+(b?L(a):0)}function K(b){return(parseFloat(a.curCSS(b[0],"paddingTop",!0))||0)+(parseFloat(a.curCSS(b[0],"paddingBottom",!0))||0)}function L(b){return(parseFloat(a.curCSS(b[0],"marginTop",!0))||0)+(parseFloat(a.curCSS(b[0],"marginBottom",!0))||0)}function M(b){return(parseFloat(a.curCSS(b[0],"borderTopWidth",!0))||0)+(parseFloat(a.curCSS(b[0],"borderBottomWidth",!0))||0)}function N(a,b){b=typeof b=="number"?b+"px":b,a.each(function(a,c){c.style.cssText+=";min-height:"+b+";_height:"+b})}function O(){}function P(a,b){return a-b}function Q(a){return Math.max.apply(Math,a)}function R(a){return(a<10?"0":"")+a}function S(a,c){if(a[c]!==b)return a[c];c=c.split(/(?=[A-Z])/);for(var d=c.length-1,e;d>=0;d--){e=a[c[d].toLowerCase()];if(e!==b)return e}return a[""]}function T(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function U(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function V(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function W(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function X(a,b){a.each(function(a,c){c.className=c.className.replace(/^fc-\w*/,"fc-"+xb[b.getDay()])})}function Y(a,b){var c=a.source||{},d=a.color,e=c.color,f=b("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b("eventBackgroundColor")||f;return d=a.borderColor||d||c.borderColor||e||b("eventBorderColor")||f,a=a.textColor||c.textColor||b("eventTextColor"),b=[],g&&b.push("background-color:"+g),d&&b.push("border-color:"+d),a&&b.push("color:"+a),b.join(";")}function Z(b,c,d){a.isFunction(b)&&(b=[b]);if(b){var e,f;for(e=0;e<b.length;e++)f=b[e].apply(c,d)||f;return f}}function $(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==b)return arguments[a]}function _(a,b){function c(a,b){b&&(h(a,b),a.setDate(1)),a=m(a,!0),a.setDate(1),b=h(m(a),1);var c=m(a),j=m(b),k=e("firstDay"),l=e("weekends")?0:1;l&&(o(c),o(j,-1,!0)),i(c,-((c.getDay()-Math.max(k,l)+7)%7)),i(j,(7-j.getDay()+Math.max(k,l))%7),k=Math.round((j-c)/(yb*7)),e("weekMode")=="fixed"&&(i(j,(6-k)*7),k=6),d.title=g(a,e("titleFormat")),d.start=a,d.end=b,d.visStart=c,d.visEnd=j,f(6,k,l?5:7,!0)}var d=this;d.render=c,cb.call(d,a,b,"month");var e=d.opt,f=d.renderBasic,g=b.formatDate}function ab(a,b){function c(a,b){b&&i(a,b*7),a=i(m(a),-((a.getDay()-e("firstDay")+7)%7)),b=i(m(a),7);var c=m(a),h=m(b),j=e("weekends");j||(o(c),o(h,-1,!0)),d.title=g(c,i(m(h),-1),e("titleFormat")),d.start=a,d.end=b,d.visStart=c,d.visEnd=h,f(1,1,j?7:5,!1)}var d=this;d.render=c,cb.call(d,a,b,"basicWeek");var e=d.opt,f=d.renderBasic,g=b.formatDates}function bb(a,b){function c(a,b){b&&(i(a,b),e("weekends")||o(a,b<0?-1:1)),d.title=g(a,e("titleFormat")),d.start=d.visStart=m(a,!0),d.end=d.visEnd=i(m(d.start),1),f(1,1,1,!1)}var d=this;d.render=c,cb.call(d,a,b,"basicDay");var e=d.opt,f=d.renderBasic,g=b.formatDate}function cb(b,c,d){function e(a,b,c,d){gb=b,hb=c,f(),(b=!Y)?g(a,d):O(),h(b)}function f(){(rb=L("isRTL"))?(sb=-1,tb=hb-1):(sb=1,tb=0),ub=L("firstDay"),vb=L("weekends")?0:1,wb=L("theme")?"ui":"fc",xb=L("columnFormat")}function g(c,d){var e,f=wb+"-widget-header",g=wb+"-widget-content",h;e="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(h=0;h<hb;h++)e+="<th class='fc- "+f+"'/>";e+="</tr></thead><tbody>";for(h=0;h<c;h++){e+="<tr class='fc-week"+h+"'>";for(f=0;f<hb;f++)e+="<td class='fc- "+g+" fc-day"+(h*hb+f)+"'><div>"+(d?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";e+="</tr>"}e+="</tbody></table>",c=a(e).appendTo(b),T=c.find("thead"),U=T.find("th"),Y=c.find("tbody"),Z=Y.find("tr"),$=Y.find("td"),_=$.filter(":first-child"),ab=Z.eq(0).find("div.fc-day-content div"),W(T.add(T.find("tr"))),W(Z),Z.eq(0).addClass("fc-first"),n($),bb=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b)}function h(b){var c=b||gb==1,d=K.start.getMonth(),e=l(new Date),f,g,h;c&&U.each(function(b,c){f=a(c),g=F(b),f.html(S(g,xb)),X(f,g)}),$.each(function(b,h){f=a(h),g=F(b),g.getMonth()==d?f.removeClass("fc-other-month"):f.addClass("fc-other-month"),+g==+e?f.addClass(wb+"-state-highlight fc-today"):f.removeClass(wb+"-state-highlight fc-today"),f.find("div.fc-day-number").text(g.getDate()),c&&X(f,g)}),Z.each(function(b,c){h=a(c),b<gb?(h.show(),b==gb-1?h.addClass("fc-last"):h.removeClass("fc-last")):h.hide()})}function j(b){eb=b,b=eb-T.height();var c,d,e;L("weekMode")=="variable"?c=d=Math.floor(b/(gb==1?2:6)):(c=Math.floor(b/gb),d=b-c*(gb-1)),_.each(function(b,f){b<gb&&(e=a(f),N(e.find("> div"),(b==gb-1?d:c)-J(e)))})}function k(a){cb=a,pb.clear(),fb=Math.floor(cb/hb),D(U.slice(0,-1),fb)}function n(a){a.click(o).mousedown(R)}function o(a){if(!L("selectable")){var b=parseInt(this.className.match(/fc\-day(\d+)/)[1]);b=F(b),M("dayClick",this,b,!0,a)}}function q(a,b,c){c&&ib.build(),c=m(K.visStart);for(var d=i(m(c),hb),e=0;e<gb;e++){var f=new Date(Math.max(c,a)),g=new Date(Math.min(d,b));if(f<g){var h;rb?(h=p(g,c)*sb+tb+1,f=p(f,c)*sb+tb+1):(h=p(f,c),f=p(g,c)),n(r(e,h,e,f-1))}i(c,7),i(d,7)}}function r(a,c,d,e){return a=ib.rect(a,c,d,e,b),P(a,b)}function s(a){return m(a)}function t(a,b){q(a,i(m(b),1),!0)}function u(){Q()}function v(a,b,c){var d=B(a);M("dayClick",$[d.row*hb+d.col],a,b,c)}function w(a,b){kb.start(function(a){Q(),a&&r(a.row,a.col,a.row,a.col)},b)}function x(a,b,c){var d=kb.stop();Q(),d&&(d=C(d),M("drop",a,d,!0,b,c))}function y(a){return m(a.start)}function z(a){return pb.left(a)}function A(a){return pb.right(a)}function B(a){return{row:Math.floor(p(a,K.visStart)/7),col:G(a.getDay())}}function C(a){return E(a.row,a.col)}function E(a,b){return i(m(K.visStart),a*7+b*sb+tb)}function F(a){return E(Math.floor(a/hb),a%hb)}function G(a){return(a-Math.max(ub,vb)+hb)%hb*sb+tb}function H(a){return Z.eq(a)}function I(){return{left:0,right:cb}}var K=this;K.renderBasic=e,K.setHeight=j,K.setWidth=k,K.renderDayOverlay=q,K.defaultSelectionEnd=s,K.renderSelection=t,K.clearSelection=u,K.reportDayClick=v,K.dragStart=w,K.dragStop=x,K.defaultEventEnd=y,K.getHoverListener=function(){return kb},K.colContentLeft=z,K.colContentRight=A,K.dayOfWeekCol=G,K.dateCell=B,K.cellDate=C,K.cellIsAllDay=function(){return!0},K.allDayRow=H,K.allDayBounds=I,K.getRowCnt=function(){return gb},K.getColCnt=function(){return hb},K.getColWidth=function(){return fb},K.getDaySegmentContainer=function(){return bb},jb.call(K,b,c,d),mb.call(K),lb.call(K),db.call(K);var L=K.opt,M=K.trigger,O=K.clearEvents,P=K.renderOverlay,Q=K.clearOverlays,R=K.daySelectionMousedown,S=c.formatDate,T,U,Y,Z,$,_,ab,bb,cb,eb,fb,gb,hb,ib,kb,pb,rb,sb,tb,ub,vb,wb,xb;V(b.addClass("fc-grid")),ib=new nb(function(b,c){var d,e,f;U.each(function(b,g){d=a(g),e=d.offset().left,b&&(f[1]=e),f=[e],c[b]=f}),f[1]=e+d.outerWidth(),Z.each(function(c,g){c<gb&&(d=a(g),e=d.offset().top,c&&(f[1]=e),f=[e],b[c]=f)}),f[1]=e+d.outerHeight()}),kb=new ob(ib),pb=new qb(function(a){return ab.eq(a)})}function db(){function b(a,b){n(a),C(d(a),b)}function c(){o(),t().empty()}function d(b){var c=y(),d=z(),e=m(g.visStart);d=i(m(e),d);var f=a.map(b,w),h,j,k,l,n,o,p=[];for(h=0;h<c;h++){j=B(A(b,f,e,d));for(k=0;k<j.length;k++){l=j[k];for(n=0;n<l.length;n++)o=l[n],o.row=h,o.level=k,p.push(o)}i(e,7),i(d,7)}return p}function e(a,b,c){k(a)&&f(a,b),c.isEnd&&l(a)&&D(a,b,c),p(a,b)}function f(a,b){var c=u(),d;b.draggable({zIndex:9,delay:50,opacity:h("dragOpacity"),revertDuration:h("dragRevertDuration"),start:function(e,f){j("eventDragStart",b,a,e,f),r(a,b),c.start(function(c,e,f,g){b.draggable("option","revert",!c||!f&&!g),x(),c?(d=f*7+g*(h("isRTL")?-1:1),v(i(m(a.start),d),i(w(a),d))):d=0},e,"drag")},stop:function(e,f){c.stop(),x(),j("eventDragStop",b,a,e,f),d?s(this,a,d,0,a.allDay,e,f):(b.css("filter",""),q(a,b))}})}var g=this;g.renderEvents=b,g.compileDaySegs=d,g.clearEvents=c,g.bindDaySeg=e,kb.call(g);var h=g.opt,j=g.trigger,k=g.isEventDraggable,l=g.isEventResizable,n=g.reportEvents,o=g.reportEventClear,p=g.eventElementHandlers,q=g.showEvents,r=g.hideEvents,s=g.eventDrop,t=g.getDaySegmentContainer,u=g.getHoverListener,v=g.renderDayOverlay,x=g.clearOverlays,y=g.getRowCnt,z=g.getColCnt,C=g.renderDaySegs,D=g.resizableDayEvent}function eb(a,b){function c(a,b){b&&i(a,b*7),a=i(m(a),-((a.getDay()-e("firstDay")+7)%7)),b=i(m(a),7);var c=m(a),h=m(b),j=e("weekends");j||(o(c),o(h,-1,!0)),d.title=g(c,i(m(h),-1),e("titleFormat")),d.start=a,d.end=b,d.visStart=c,d.visEnd=h,f(j?7:5)}var d=this;d.render=c,gb.call(d,a,b,"agendaWeek");var e=d.opt,f=d.renderAgenda,g=b.formatDates}function fb(a,b){function c(a,b){b&&(i(a,b),e("weekends")||o(a,b<0?-1:1)),b=m(a,!0);var c=i(m(b),1);d.title=g(a,e("titleFormat")),d.start=d.visStart=b,d.end=d.visEnd=c,f(1)}var d=this;d.render=c,gb.call(d,a,b,"agendaDay");var e=d.opt,f=d.renderAgenda,g=b.formatDate}function gb(c,d,e){function f(a){$b=a,g(),rb?cb():h(),j()}function g(){ec=ab("theme")?"ui":"fc",gc=ab("weekends")?0:1,fc=ab("firstDay"),(hc=ab("isRTL"))?(ic=-1,jc=$b-1):(ic=1,jc=0),kc=t(ab("minTime")),lc=t(ab("maxTime")),mc=ab("columnFormat")}function h(){var b=ec+"-widget-header",d=ec+"-widget-content",e,f,g,h,i,j=ab("slotMinutes")%15==0;e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+b+"'>&nbsp;</th>";for(f=0;f<$b;f++)e+="<th class='fc- fc-col"+f+" "+b+"'/>";e+="<th class='fc-agenda-gutter "+b+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+b+"'>&nbsp;</th>";for(f=0;f<$b;f++)e+="<td class='fc- fc-col"+f+" "+d+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";e+="<td class='fc-agenda-gutter "+d+"'>&nbsp;</td></tr></tbody></table>",rb=a(e).appendTo(c),sb=rb.find("thead"),tb=sb.find("th").slice(1,-1),ub=rb.find("tbody"),vb=ub.find("td").slice(0,-1),wb=vb.find("div.fc-day-content div"),xb=vb.eq(0),yb=xb.find("> div"),W(sb.add(sb.find("tr"))),W(ub.add(ub.find("tr"))),Qb=sb.find("th:first"),Rb=rb.find(".fc-agenda-gutter"),zb=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(c),ab("allDaySlot")?(Ab=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(zb),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+b+" fc-agenda-axis'>"+ab("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+b+" fc-agenda-gutter'>&nbsp;</th></tr></table>",Bb=a(e).appendTo(zb),Cb=Bb.find("tr"),v(Cb.find("td")),Qb=Qb.add(Bb.find("th:first")),Rb=Rb.add(Bb.find("th.fc-agenda-gutter")),zb.append("<div class='fc-agenda-divider "+b+"'><div class='fc-agenda-divider-inner'/></div>")):Ab=a([]),Db=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(zb),Fb=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(Db),Hb=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Fb),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",g=n(),h=k(m(g),lc),k(g,kc);for(f=_b=0;g<h;f++)i=g.getMinutes(),e+="<tr class='fc-slot"+f+" "+(i?"fc-minor":"")+"'><th class='fc-agenda-axis "+b+"'>"+(!j||!i?pb(g,ab("axisFormat")):"&nbsp;")+"</th><td class='"+d+"'><div style='position:relative'>&nbsp;</div></td></tr>",k(g,ab("slotMinutes")),_b++;e+="</tbody></table>",Ib=a(e).appendTo(Fb),Jb=Ib.find("div:first"),w(Ib.find("td")),Qb=Qb.add(Ib.find("th:first"))}function j(){var a,b,c,d,e=l(new Date);for(a=0;a<$b;a++)d=H(a),b=tb.eq(a),b.html(pb(d,mc)),c=vb.eq(a),+d==+e?c.addClass(ec+"-state-highlight fc-today"):c.removeClass(ec+"-state-highlight fc-today"),X(b.add(c),d)}function o(a,c){a===b&&(a=Ub),Ub=a,dc={};var d=ub.position().top,e=Db.position().top;a=Math.min(a-d,Ib.height()+e+1),yb.height(a-J(xb)),zb.css("top",d),Db.height(a-e-1),Yb=Jb.height()+1,c&&r()}function q(b){Tb=b,cc.clear(),Vb=0,D(Qb.width("").each(function(b,c){Vb=Math.max(Vb,a(c).outerWidth())}),Vb),b=Db[0].clientWidth,(Xb=Db.width()-b)?(D(Rb,Xb),Rb.show().prev().removeClass("fc-last")):Rb.hide().prev().addClass("fc-last"),Wb=Math.floor((b-Vb)/$b),D(tb.slice(0,-1),Wb)}function r(){function a(){Db.scrollTop(d)}var b=n(),c=m(b);c.setHours(ab("firstHour"));var d=L(b,c)+1;a(),setTimeout(a,0)}function s(){Zb=Db.scrollTop()}function u(){Db.scrollTop(Zb)}function v(a){a.click(x).mousedown(ib)}function w(a){a.click(x).mousedown(U)}function x(a){if(!ab("selectable")){var b=Math.min($b-1,Math.floor((a.pageX-rb.offset().left-Vb)/Wb)),c=H(b),d=this.parentNode.className.match(/fc-slot(\d+)/);if(d){d=parseInt(d[1])*ab("slotMinutes");var e=Math.floor(d/60);c.setHours(e),c.setMinutes(d%60+kc),bb("dayClick",vb[b],c,!1,a)}else bb("dayClick",vb[b],c,!0,a)}}function y(a,b,c){c&&ac.build();var d=m(_.visStart);hc?(c=p(b,d)*ic+jc+1,a=p(a,d)*ic+jc+1):(c=p(a,d),a=p(b,d)),c=Math.max(0,c),a=Math.min($b,a),c<a&&v(z(0,c,0,a-1))}function z(a,b,c,d){return a=ac.rect(a,b,c,d,zb),db(a,zb)}function A(a,b){for(var c=m(_.visStart),d=i(m(c),1),e=0;e<$b;e++){var f=new Date(Math.max(c,a)),g=new Date(Math.min(d,b));if(f<g){var h=e*ic+jc;h=ac.rect(0,h,0,h,Fb),f=L(c,f),g=L(c,g),h.top=f,h.height=g-f,w(db(h,Fb))}i(c,1),i(d,1)}}function B(a){return cc.left(a)}function C(a){return cc.right(a)}function F(a){return{row:Math.floor(p(a,_.visStart)/7),col:K(a.getDay())}}function G(a){var b=H(a.col);return a=a.row,ab("allDaySlot")&&a--,a>=0&&k(b,kc+a*ab("slotMinutes")),b}function H(a){return i(m(_.visStart),a*ic+jc)}function I(a){return ab("allDaySlot")&&!a.row}function K(a){return(a-Math.max(fc,gc)+$b)%$b*ic+jc}function L(a,c){a=m(a,!0);if(c<k(m(a),kc))return 0;if(c>=k(m(a),lc))return Ib.height();a=ab("slotMinutes"),c=c.getHours()*60+c.getMinutes()-kc;var d=Math.floor(c/a),e=dc[d];return e===b&&(e=dc[d]=Ib.find("tr:eq("+d+") td div")[0].offsetTop),Math.max(0,Math.round(e-1+Yb*(c%a/a)))}function M(){return{left:Vb,right:Tb-Xb}}function N(){return Cb}function O(a){var b=m(a.start);return a.allDay?b:k(b,ab("defaultEventMinutes"))}function Q(a,b){return b?m(a):k(m(a),ab("slotMinutes"))}function R(a,b,c){c?ab("allDaySlot")&&y(a,i(m(b),1),!0):S(a,b)}function S(b,c){var d=ab("selectHelper");ac.build();if(d){var e=p(b,_.visStart)*ic+jc;if(e>=0&&e<$b){e=ac.rect(0,e,0,e,Fb);var f=L(b,b),g=L(b,c);if(g>f){e.top=f,e.height=g-f,e.left+=2,e.width-=5;if(a.isFunction(d)){if(b=d(b,c))e.position="absolute",e.zIndex=8,Sb=a(b).css(e).appendTo(Fb)}else e.isStart=!0,e.isEnd=!0,Sb=a(kb({title:"",start:b,end:c,className:["fc-select-helper"],editable:!1},e)),Sb.css("opacity",ab("dragOpacity"));Sb&&(w(Sb),Fb.append(Sb),D(Sb,e.width,!0),E(Sb,e.height,!0))}}}else A(b,c)}function T(){eb(),Sb&&(Sb.remove(),Sb=null)}function U(b){if(b.which==1&&ab("selectable")){gb(b);var c;bc.start(function(a,b){T(),a&&a.col==b.col&&!I(a)?(b=G(b),a=G(a),c=[b,k(m(b),ab("slotMinutes")),a,k(m(a),ab("slotMinutes"))].sort(P),S(c[0],c[3])):c=null},b),a(document).one("mouseup",function(a){bc.stop(),c&&(+c[0]==+c[1]&&Y(c[0],!1,a),fb(c[0],c[3],!1,a))})}}function Y(a,b,c){bb("dayClick",vb[K(a.getDay())],a,b,c)}function Z(a,b){bc.start(function(a){eb();if(a)if(I(a))z(a.row,a.col,a.row,a.col);else{a=G(a);var b=k(m(a),ab("defaultEventMinutes"));A(a,b)}},b)}function $(a,b,c){var d=bc.stop();eb(),d&&bb("drop",a,G(d),I(d),b,c)}var _=this;_.renderAgenda=f,_.setWidth=q,_.setHeight=o,_.beforeHide=s,_.afterShow=u,_.defaultEventEnd=O,_.timePosition=L,_.dayOfWeekCol=K,_.dateCell=F,_.cellDate=G,_.cellIsAllDay=I,_.allDayRow=N,_.allDayBounds=M,_.getHoverListener=function(){return bc},_.colContentLeft=B,_.colContentRight=C,_.getDaySegmentContainer=function(){return Ab},_.getSlotSegmentContainer=function(){return Hb},_.getMinMinute=function(){return kc},_.getMaxMinute=function(){return lc},_.getBodyContent=function(){return Fb},_.getRowCnt=function(){return 1},_.getColCnt=function(){return $b},_.getColWidth=function(){return Wb},_.getSlotHeight=function(){return Yb},_.defaultSelectionEnd=Q,_.renderDayOverlay=y,_.renderSelection=R,_.clearSelection=T,_.reportDayClick=Y,_.dragStart=Z,_.dragStop=$,jb.call(_,c,d,e),mb.call(_),lb.call(_),hb.call(_);var ab=_.opt,bb=_.trigger,cb=_.clearEvents,db=_.renderOverlay,eb=_.clearOverlays,fb=_.reportSelection,gb=_.unselect,ib=_.daySelectionMousedown,kb=_.slotSegHtml,pb=d.formatDate,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Fb,Hb,Ib,Jb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc={},ec,fc,gc,hc,ic,jc,kc,lc,mc;V(c.addClass("fc-agenda")),ac=new nb(function(b,c){function d(a){return Math.max(i,Math.min(j,a))}var e,f,g;tb.each(function(b,d){e=a(d),f=e.offset().left,b&&(g[1]=f),g=[f],c[b]=g}),g[1]=f+e.outerWidth(),ab("allDaySlot")&&(e=Cb,f=e.offset().top,b[0]=[f,f+e.outerHeight()]);for(var h=Fb.offset().top,i=Db.offset().top,j=i+Db.outerHeight(),k=0;k<_b;k++)b.push([d(h+Yb*k),d(h+Yb*(k+1))])}),bc=new ob(ac),cc=new qb(function(a){return wb.eq(a)})}function hb(){function c(a,b){y(a);var c,d=a.length,g=[],i=[];for(c=0;c<d;c++)a[c].allDay?g.push(a[c]):i.push(a[c]);s("allDaySlot")&&(Q(e(g),b),G()),h(f(i),b)}function d(){z(),H().empty(),I().empty()}function e(b){b=B(A(b,a.map(b,w),r.visStart,r.visEnd));var c,d=b.length,e,f,g,h=[];for(c=0;c<d;c++){e=b[c];for(f=0;f<e.length;f++)g=e[f],g.row=0,g.level=c,h.push(g)}return h}function f(b){var c=S(),d=M(),e=L(),f=k(m(r.visStart),d),h=a.map(b,g),j,l,n,o,p,q,s=[];for(j=0;j<c;j++){l=B(A(b,h,f,k(m(f),e-d))),ib(l);for(n=0;n<l.length;n++){o=l[n];for(p=0;p<o.length;p++)q=o[p],q.col=j,q.level=n,s.push(q)}i(f,1,!0)}return s}function g(a){return a.end?m(a.end):k(m(a.start),s("defaultEventMinutes"))}function h(c,d){var e,f=c.length,g,h,i,k,l,m,o,p,q,r="",u,v,w={},x={},y=I(),z;e=S(),(u=s("isRTL"))?(v=-1,z=e-1):(v=1,z=0);for(e=0;e<f;e++)g=c[e],h=g.event,i=N(g.start,g.start),k=N(g.start,g.end),l=g.col,m=g.level,o=g.forward||0,p=O(l*v+z),q=P(l*v+z)-p,q=Math.min(q-6,q*.95),l=m?q/(m+o+1):o?(q/(o+1)-6)*2:q,m=p+q/(m+o+1)*m*v+(u?q-l:0),g.top=i,g.left=m,g.outerWidth=l,g.outerHeight=k-i,r+=j(h,g);y[0].innerHTML=r,u=y.children();for(e=0;e<f;e++)g=c[e],h=g.event,r=a(u[e]),v=t("eventRender",h,h,r),v===!1?r.remove():(v&&v!==!0&&(r.remove(),r=a(v).css({position:"absolute",top:g.top,left:g.left}).appendTo(y)),g.element=r,h._id===d?n(h,r,g):r[0]._fci=e,Z(h,r));C(y,c,n);for(e=0;e<f;e++){g=c[e];if(r=g.element)h=w[d=g.key=U(r[0])],g.vsides=h===b?w[d]=J(r,!0):h,h=x[d],g.hsides=h===b?x[d]=F(r,!0):h,d=r.find("div.fc-event-content"),d.length&&(g.contentTop=d[0].offsetTop)}for(e=0;e<f;e++){g=c[e];if(r=g.element)r[0].style.width=Math.max(0,g.outerWidth-g.hsides)+"px",w=Math.max(0,g.outerHeight-g.vsides),r[0].style.height=w+"px",h=g.event,g.contentTop!==b&&w-g.contentTop<10&&(r.find("div.fc-event-time").text(fb(h.start,s("timeFormat"))+" - "+h.title),r.find("div.fc-event-title").remove()),t("eventAfterRender",h,h,r)}}function j(a,b){var c="<",d=a.url,e=Y(a,s),f=e?" style='"+e+"'":"",g=["fc-event","fc-event-skin","fc-event-vert"];return u(a)&&g.push("fc-event-draggable"),b.isStart&&g.push("fc-corner-top"),b.isEnd&&g.push("fc-corner-bottom"),g=g.concat(a.className),a.source&&(g=g.concat(a.source.className||[])),c+=d?"a href='"+T(a.url)+"'":"div",c+=" class='"+g.join(" ")+"' style='position:absolute;z-index:8;top:"+b.top+"px;left:"+b.left+"px;"+e+"'><div class='fc-event-inner fc-event-skin'"+
f+"><div class='fc-event-head fc-event-skin'"+f+"><div class='fc-event-time'>"+T(gb(a.start,a.end,s("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+T(a.title)+"</div></div><div class='fc-event-bg'></div></div>",b.isEnd&&v(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),c+="</"+(d?"a":"div")+">",c}function l(a,b,c){u(a)&&o(a,b,c.isStart),c.isEnd&&v(a)&&R(a,b,c),D(a,b)}function n(a,b,c){var d=b.find("div.fc-event-time");u(a)&&p(a,b,d),c.isEnd&&v(a)&&q(a,b,d),D(a,b)}function o(a,b,c){function d(){g||(b.width(e).height("").draggable("option","grid",null),g=!0)}var e,f,g=!0,h,j=s("isRTL")?-1:1,k=K(),l=V(),n=W(),o=M();b.draggable({zIndex:9,opacity:s("dragOpacity","month"),revertDuration:s("dragRevertDuration"),start:function(o,p){t("eventDragStart",b,a,o,p),_(a,b),e=b.width(),k.start(function(e,k,o,p){db(),e?(f=!1,h=p*j,e.row?c?g&&(b.width(l-10),E(b,n*Math.round((a.end?(a.end-a.start)/Ab:s("defaultEventMinutes"))/s("slotMinutes"))),b.draggable("option","grid",[l,1]),g=!1):f=!0:(cb(i(m(a.start),h),i(w(a),h)),d()),f=f||g&&!h):(d(),f=!0),b.draggable("option","revert",f)},o,"drag")},stop:function(c,e){k.stop(),db(),t("eventDragStop",b,a,c,e);if(f)d(),b.css("filter",""),$(a,b);else{var i=0;g||(i=Math.round((b.offset().top-X().offset().top)/n)*s("slotMinutes")+o-(a.start.getHours()*60+a.start.getMinutes())),ab(this,a,h,i,g,c,e)}}})}function p(a,b,c){function d(b){var d=k(m(a.start),b),e;a.end&&(e=k(m(a.end),b)),c.text(gb(d,e,s("timeFormat")))}function e(){g&&(c.css("display",""),b.draggable("option","grid",[q,r]),g=!1)}var f,g=!1,h,j,l,n=s("isRTL")?-1:1,o=K(),p=S(),q=V(),r=W();b.draggable({zIndex:9,scroll:!1,grid:[q,r],axis:p==1?"y":!1,opacity:s("dragOpacity"),revertDuration:s("dragRevertDuration"),start:function(d,k){t("eventDragStart",b,a,d,k),_(a,b),f=b.position(),j=l=0,o.start(function(d,f,j,k){b.draggable("option","revert",!d),db(),d&&(h=k*n,s("allDaySlot")&&!d.row?(g||(g=!0,c.hide(),b.draggable("option","grid",null)),cb(i(m(a.start),h),i(w(a),h))):e())},d,"drag")},drag:function(a,b){j=Math.round((b.position.top-f.top)/r)*s("slotMinutes"),j!=l&&(g||d(j),l=j)},stop:function(c,i){var k=o.stop();db(),t("eventDragStop",b,a,c,i),k&&(h||j||g)?ab(this,a,h,g?0:j,g,c,i):(e(),b.css("filter",""),b.css(f),d(0),$(a,b))}})}function q(a,b,c){var d,e,f=W();b.resizable({handles:{s:"div.ui-resizable-s"},grid:f,start:function(c,f){d=e=0,_(a,b),b.css("z-index",9),t("eventResizeStart",this,a,c,f)},resize:function(g,h){d=Math.round((Math.max(f,b.height())-h.originalSize.height)/f),d!=e&&(c.text(gb(a.start,!d&&!a.end?null:k(x(a),s("slotMinutes")*d),s("timeFormat"))),e=d)},stop:function(c,e){t("eventResizeStop",this,a,c,e),d?bb(this,a,0,s("slotMinutes")*d,c,e):(b.css("z-index",8),$(a,b))}})}var r=this;r.renderEvents=c,r.compileDaySegs=e,r.clearEvents=d,r.slotSegHtml=j,r.bindDaySeg=l,kb.call(r);var s=r.opt,t=r.trigger,u=r.isEventDraggable,v=r.isEventResizable,x=r.eventEnd,y=r.reportEvents,z=r.reportEventClear,D=r.eventElementHandlers,G=r.setHeight,H=r.getDaySegmentContainer,I=r.getSlotSegmentContainer,K=r.getHoverListener,L=r.getMaxMinute,M=r.getMinMinute,N=r.timePosition,O=r.colContentLeft,P=r.colContentRight,Q=r.renderDaySegs,R=r.resizableDayEvent,S=r.getColCnt,V=r.getColWidth,W=r.getSlotHeight,X=r.getBodyContent,Z=r.reportEventElement,$=r.showEvents,_=r.hideEvents,ab=r.eventDrop,bb=r.eventResize,cb=r.renderDayOverlay,db=r.clearOverlays,eb=r.calendar,fb=eb.formatDate,gb=eb.formatDates}function ib(a){var b,c,d,e,f,g;for(b=a.length-1;b>0;b--){e=a[b];for(c=0;c<e.length;c++){f=e[c];for(d=0;d<a[b-1].length;d++)g=a[b-1][d],z(f,g)&&(g.forward=Math.max(g.forward||0,(f.forward||0)+1))}}}function jb(a,c,d){function e(a,b){return a=F[a],typeof a=="object"?S(a,b||d):a}function f(a,b){return c.trigger.apply(c,[a,b||y].concat(Array.prototype.slice.call(arguments,2),[y]))}function g(a){return j(a)&&!e("disableDragging")}function h(a){return j(a)&&!e("disableResizing")}function j(a){return $(a.editable,(a.source||{}).editable,e("editable"))}function l(a){C={};var b,c=a.length,d;for(b=0;b<c;b++)d=a[b],C[d._id]?C[d._id].push(d):C[d._id]=[d]}function n(a){return a.end?m(a.end):z(a)}function o(a,b){D.push(b),E[a._id]?E[a._id].push(b):E[a._id]=[b]}function p(){D=[],E={}}function q(a,b){b.click(function(c){if(!b.hasClass("ui-draggable-dragging")&&!b.hasClass("ui-resizable-resizing"))return f("eventClick",this,a,c)}).hover(function(b){f("eventMouseover",this,a,b)},function(b){f("eventMouseout",this,a,b)})}function r(a,b){t(a,b,"show")}function s(a,b){t(a,b,"hide")}function t(a,b,c){a=E[a._id];var d,e=a.length;for(d=0;d<e;d++)(!b||a[d][0]!=b[0])&&a[d][c]()}function u(a,b,c,d,e,g,h){var i=b.allDay,j=b._id;w(C[j],c,d,e),f("eventDrop",a,b,c,d,e,function(){w(C[j],-c,-d,i),B(j)},g,h),B(j)}function v(a,b,c,d,e,g){var h=b._id;x(C[h],c,d),f("eventResize",a,b,c,d,function(){x(C[h],-c,-d),B(h)},e,g),B(h)}function w(a,c,d,e){d=d||0;for(var f,g=a.length,h=0;h<g;h++)f=a[h],e!==b&&(f.allDay=e),k(i(f.start,c,!0),d),f.end&&(f.end=k(i(f.end,c,!0),d)),A(f,F)}function x(a,b,c){c=c||0;for(var d,e=a.length,f=0;f<e;f++)d=a[f],d.end=k(i(n(d),b,!0),c),A(d,F)}var y=this;y.element=a,y.calendar=c,y.name=d,y.opt=e,y.trigger=f,y.isEventDraggable=g,y.isEventResizable=h,y.reportEvents=l,y.eventEnd=n,y.reportEventElement=o,y.reportEventClear=p,y.eventElementHandlers=q,y.showEvents=r,y.hideEvents=s,y.eventDrop=u,y.eventResize=v;var z=y.defaultEventEnd,A=c.normalizeEvent,B=c.reportEventChange,C={},D=[],E={},F=c.options}function kb(){function c(a,b){var c=N(),d=B(),i=D(),m=0,q,r,s=a.length,t,u;c[0].innerHTML=e(a),f(a,c.children()),g(a),h(a,c,b),j(a),k(a),l(a),b=n();for(c=0;c<d;c++){q=[];for(r=0;r<i;r++)q[r]=0;for(;m<s&&(t=a[m]).row==c;){r=Q(q.slice(t.startCol,t.endCol)),t.top=r,r+=t.outerHeight;for(u=t.startCol;u<t.endCol;u++)q[u]=r;m++}b[c].height(Q(q))}p(a,o(b))}function d(b,c,d){var g=a("<div/>"),h=N(),i=b.length,m;g[0].innerHTML=e(b),g=g.children(),h.append(g),f(b,g),j(b),k(b),l(b),p(b,o(n())),g=[];for(h=0;h<i;h++)if(m=b[h].element)b[h].row===c&&m.css("top",d),g.push(m[0]);return a(g)}function e(a){var b=s("isRTL"),c,d=a.length,e,f,g,h;c=G();var i=c.left,j=c.right,k,l,m,n,o,p="";for(c=0;c<d;c++)e=a[c],f=e.event,h=["fc-event","fc-event-skin","fc-event-hori"],u(f)&&h.push("fc-event-draggable"),b?(e.isStart&&h.push("fc-corner-right"),e.isEnd&&h.push("fc-corner-left"),k=J(e.end.getDay()-1),l=J(e.start.getDay()),m=e.isEnd?H(k):i,n=e.isStart?I(l):j):(e.isStart&&h.push("fc-corner-left"),e.isEnd&&h.push("fc-corner-right"),k=J(e.start.getDay()),l=J(e.end.getDay()-1),m=e.isStart?H(k):i,n=e.isEnd?I(l):j),h=h.concat(f.className),f.source&&(h=h.concat(f.source.className||[])),g=f.url,o=Y(f,s),p+=g?"<a href='"+T(g)+"'":"<div",p+=" class='"+h.join(" ")+"' style='position:absolute;z-index:8;left:"+m+"px;"+o+"'><div class='fc-event-inner fc-event-skin'"+(o?" style='"+o+"'":"")+">",!f.allDay&&e.isStart&&(p+="<span class='fc-event-time'>"+T(P(f.start,f.end,s("timeFormat")))+"</span>"),p+="<span class='fc-event-title'>"+T(f.title)+"</span></div>",e.isEnd&&v(f)&&(p+="<div class='ui-resizable-handle ui-resizable-"+(b?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),p+="</"+(g?"a":"div")+">",e.left=m,e.outerWidth=n-m,e.startCol=k,e.endCol=l+1;return p}function f(b,c){var d,e=b.length,f,g,h;for(d=0;d<e;d++)f=b[d],g=f.event,h=a(c[d]),g=t("eventRender",g,g,h),g===!1?h.remove():(g&&g!==!0&&(g=a(g).css({position:"absolute",left:f.left}),h.replaceWith(g),h=g),f.element=h)}function g(a){var b,c=a.length,d,e;for(b=0;b<c;b++)d=a[b],(e=d.element)&&x(d.event,e)}function h(a,b,c){var d,e=a.length,f,g,h;for(d=0;d<e;d++){f=a[d];if(g=f.element)h=f.event,h._id===c?O(h,g,f):g[0]._fci=d}C(b,a,O)}function j(a){var c,d=a.length,e,f,g,h,i={};for(c=0;c<d;c++){e=a[c];if(f=e.element)g=e.key=U(f[0]),h=i[g],h===b&&(h=i[g]=F(f,!0)),e.hsides=h}}function k(a){var b,c=a.length,d,e;for(b=0;b<c;b++){d=a[b];if(e=d.element)e[0].style.width=Math.max(0,d.outerWidth-d.hsides)+"px"}}function l(a){var c,d=a.length,e,f,g,h,i={};for(c=0;c<d;c++){e=a[c];if(f=e.element)g=e.key,h=i[g],h===b&&(h=i[g]=L(f)),e.outerHeight=f[0].offsetHeight+h}}function n(){var a,b=B(),c=[];for(a=0;a<b;a++)c[a]=E(a).find("td:first div.fc-day-content > div");return c}function o(a){var b,c=a.length,d=[];for(b=0;b<c;b++)d[b]=a[b][0].offsetTop;return d}function p(a,b){var c,d=a.length,e,f;for(c=0;c<d;c++){e=a[c];if(f=e.element)f[0].style.top=b[e.row]+(e.top||0)+"px",e=e.event,t("eventAfterRender",e,e,f)}}function q(b,c,e){var f=s("isRTL"),g=f?"w":"e",h=c.find("div.ui-resizable-"+g),j=!1;V(c),c.mousedown(function(a){a.preventDefault()}).click(function(a){j&&(a.preventDefault(),a.stopImmediatePropagation())}),h.mousedown(function(h){function k(c){t("eventResizeStop",this,b,c),a("body").css("cursor",""),l.stop(),S(),u&&A(this,b,u,0,c),setTimeout(function(){j=!1},0)}if(h.which==1){j=!0;var l=r.getHoverListener(),n=B(),o=D(),p=f?-1:1,q=f?o-1:0,s=c.css("top"),u,v,x=a.extend({},b),C=K(b.start);W(),a("body").css("cursor",g+"-resize").one("mouseup",k),t("eventResizeStart",this,b,h),l.start(function(a,c){if(a){var h=Math.max(C.row,a.row);a=a.col,n==1&&(h=0),h==C.row&&(a=f?Math.min(C.col,a):Math.max(C.col,a)),u=h*7+a*p+q-(c.row*7+c.col*p+q),c=i(w(b),u,!0),u?(x.end=c,h=v,v=d(M([x]),e.row,s),v.find("*").css("cursor",g+"-resize"),h&&h.remove(),z(b)):v&&(y(b),v.remove(),v=null),S(),R(b.start,i(m(c),1))}},h)}})}var r=this;r.renderDaySegs=c,r.resizableDayEvent=q;var s=r.opt,t=r.trigger,u=r.isEventDraggable,v=r.isEventResizable,w=r.eventEnd,x=r.reportEventElement,y=r.showEvents,z=r.hideEvents,A=r.eventResize,B=r.getRowCnt,D=r.getColCnt,E=r.allDayRow,G=r.allDayBounds,H=r.colContentLeft,I=r.colContentRight,J=r.dayOfWeekCol,K=r.dateCell,M=r.compileDaySegs,N=r.getDaySegmentContainer,O=r.bindDaySeg,P=r.calendar.formatDates,R=r.renderDayOverlay,S=r.clearOverlays,W=r.clearSelection}function lb(){function b(a,b,e){c(),b||(b=i(a,e)),j(a,b,e),d(a,b,e)}function c(a){l&&(l=!1,k(),h("unselect",null,a))}function d(a,b,c,d){l=!0,h("select",null,a,b,c,d)}function e(b){var e=f.cellDate,h=f.cellIsAllDay,i=f.getHoverListener(),l=f.reportDayClick;if(b.which==1&&g("selectable")){c(b);var m;i.start(function(a,b){k(),a&&h(a)?(m=[e(b),e(a)].sort(P),j(m[0],m[1],!0)):m=null},b),a(document).one("mouseup",function(a){i.stop(),m&&(+m[0]==+m[1]&&l(m[0],!0,a),d(m[0],m[1],!0,a))})}}var f=this;f.select=b,f.unselect=c,f.reportSelection=d,f.daySelectionMousedown=e;var g=f.opt,h=f.trigger,i=f.defaultSelectionEnd,j=f.renderSelection,k=f.clearSelection,l=!1;g("selectable")&&g("unselectAuto")&&a(document).mousedown(function(b){var d=g("unselectCancel");if(d&&a(b.target).parents(d).length)return;c(b)})}function mb(){function b(b,c){var d=f.shift();return d||(d=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),d[0].parentNode!=c[0]&&d.appendTo(c),e.push(d.css(b).show()),d}function c(){for(var a;a=e.shift();)f.push(a.hide().unbind())}var d=this;d.renderOverlay=b,d.clearOverlays=c;var e=[],f=[]}function nb(a){var b=this,c,d;b.build=function(){c=[],d=[],a(c,d)},b.cell=function(a,b){var e=c.length,f=d.length,g,h=-1,i=-1;for(g=0;g<e;g++)if(b>=c[g][0]&&b<c[g][1]){h=g;break}for(g=0;g<f;g++)if(a>=d[g][0]&&a<d[g][1]){i=g;break}return h>=0&&i>=0?{row:h,col:i}:null},b.rect=function(a,b,e,f,g){return g=g.offset(),{top:c[a][0]-g.top,left:d[b][0]-g.left,width:d[f][1]-d[b][0],height:c[e][1]-c[a][0]}}}function ob(b){function c(a){pb(a),a=b.cell(a.pageX,a.pageY);if(!a!=!h||a&&(a.row!=h.row||a.col!=h.col))a?(g||(g=a),f(a,g,a.row-g.row,a.col-g.col)):f(a,g),h=a}var d=this,e,f,g,h;d.start=function(d,i,j){f=d,g=h=null,b.build(),c(i),e=j||"mousemove",a(document).bind(e,c)},d.stop=function(){return a(document).unbind(e,c),h}}function pb(a){a.pageX===b&&(a.pageX=a.originalEvent.pageX,a.pageY=a.originalEvent.pageY)}function qb(a){function c(b){return e[b]=e[b]||a(b)}var d=this,e={},f={},g={};d.left=function(a){return f[a]=f[a]===b?c(a).position().left:f[a]},d.right=function(a){return g[a]=g[a]===b?d.left(a)+c(a).width():g[a]},d.clear=function(){e={},f={},g={}}}var rb={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},sb={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},tb=a.fullCalendar={version:"1.5.3"},ub=tb.views={};a.fn.fullCalendar=function(c){if(typeof c=="string"){var e=Array.prototype.slice.call(arguments,1),f;return this.each(function(){var d=a.data(this,"fullCalendar");d&&a.isFunction(d[c])&&(d=d[c].apply(d,e),f===b&&(f=d),c=="destroy"&&a.removeData(this,"fullCalendar"))}),f!==b?f:this}var g=c.eventSources||[];return delete c.eventSources,c.events&&(g.push(c.events),delete c.events),c=a.extend(!0,{},rb,c.isRTL||c.isRTL===b&&rb.isRTL?sb:{},c),this.each(function(b,e){b=a(e),e=new d(b,c,g),b.data("fullCalendar",e),e.render()}),this},tb.sourceNormalizers=[],tb.sourceFetchers=[];var vb={dataType:"json",cache:!1},wb=1;tb.addDays=i,tb.cloneDate=m,tb.parseDate=r,tb.parseISO8601=s,tb.parseTime=t,tb.formatDate=u,tb.formatDates=v;var xb=["sun","mon","tue","wed","thu","fri","sat"],yb=864e5,zb=36e5,Ab=6e4,Bb={s:function(a){return a.getSeconds()},ss:function(a){return R(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return R(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return R(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return R(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return R(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return R(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return u(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){return a=a.getDate(),a>10&&a<20?"th":["st","nd","rd"][a%10-1]||"th"}};tb.applyAll=Z,ub.month=_,ub.basicWeek=ab,ub.basicDay=bb,c({weekMode:"fixed"}),ub.agendaWeek=eb,ub.agendaDay=fb,c({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})})(jQuery);